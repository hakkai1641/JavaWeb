<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="template.xhtml">

	<ui:define name="title">Cadastro de Veiculos</ui:define>

	<ui:define name="conteudo">

		<body background="120949-free-road-wallpaper-1920x1080.jpg"></body>

		<form jsf:id="form" method="post" enctype="multipart/form-data">
			<h:messages></h:messages>

			<br />
			<h1 align="center">
				<font color="Silver"><i>Bonnie e Clyde Locadora</i></font>
			</h1>

			<input type="hidden" jsf:id="caminhoImagem"
				jsf:value="#{mBeanCar.caminhoImagem}" />

			<h:graphicImage value="ServletImagem?id=#{mBeanCar.id}" width="20%"
				height="20%"></h:graphicImage>


			<div class="container w-75">
				<div class="row">
					<div class="col-md-6 mb-3">
						<label for="validationDefault01" class="text-white">Marca</label>
						<input jsf:id="Marca" jsf:value="#{mBeanCar.marca}" type="text"
							class="form-control" id="validationDefault01" placeholder="Marca" />
					</div>
					<div class="col-md-6 mb-3">
						<label for="validationDefault02" class="text-white">Modelo</label>
						<input jsf:id="Modelo" jsf:value="#{mBeanCar.modelo}" type="text"
							class="form-control" id="validationDefault02"
							placeholder="Modelo" />
					</div>
				</div>
				<div class="row">
					<div class="col-md-6 mb-3">
						<label for="validationDefault03" class="text-white">Cor</label> <input
							jsf:id="Cor" jsf:value="#{mBeanCar.cor}" type="text"
							class="form-control" id="validationDefault03" placeholder="Cor" />
						<div class="invalid-feedback">Please provide a valid city.</div>
					</div>
					<div class="col-md-3 mb-3">
						<label for="validationDefault05" class="text-white">Ano
							Fabricação</label> <input jsf:id="Ano" jsf:value="#{mBeanCar.ano}"
							type="text" class="form-control anoFab" id="anoFab"
							placeholder="Ano Fabricação" />
						<div class="invalid-feedback">Please provide a valid Ano
							Fabricação.</div>
					</div>

					<div class="col-md-6 mb-3">
						<label for="validationDefault03" class="text-white">Valor Aluguel</label> <input type="text"
							jsf:id="valor" name="valor" class="form-control" id="moeda"
							jsf:value="#{mBeanCar.valor}">
						<f:convertNumber locale="pt_BR" minFractionDigits="2"></f:convertNumber>
						</input>
					</div>
				</div>



				<div class="form-group">
					<label for="exampleFormControlTextarea1" class="text-white">Descrição</label>
					<textarea jsf:id="Descricao" jsf:value="#{mBeanCar.descricao}"
						class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
				</div>


				<div class="form-group text-white">
					<label for="exampleFormControlFile1">Foto Veículo</label> <input
						type="file" jsf:id="imagem" jsf:value="#{mBeanCar.imagem}"
						class="form-control-file btn-dark" id="exampleFormControlFile1" />
				</div>


				<input jsf:id="btnSalvar" jsf:action="#{mBeanCar.Salvar}"
					class="btn btn-primary" type="submit" value="Salvar">Salvar</input>
			</div>

			<table class="table">
				<tr>
					<th>Código do Veículo</th>
					<th>Marca do Veículo</th>
					<th>Modelo do Veículo</th>
					<th>Ano de Fabricação</th>
				</tr>

				<ui:repeat var="carro" value="#{mBeanCar.carros}">
					<tr>
						<td class="text-white"><h:outputText value="#{carro.id}"></h:outputText></td>
						<td class="text-white"><h:outputText value="#{carro.marca}"></h:outputText></td>
						<td class="text-white"><h:outputText value="#{carro.modelo}"></h:outputText></td>
						<td class="text-white"><h:outputText value="#{carro.ano}"></h:outputText></td>
						<td><input type="submit" jsf:id="btnAlterar"
							jsf:action="#{mBeanCar.alterar(carro)}" value="Alterar"
							class="btn btn-primary"> </input></td>
						<td><input type="submit" jsf:id="btnExcluir"
							jsf:action="#{mBeanCar.excluir(carro)}" value="Excluir"
							class="btn btn-primary"> </input></td>
					</tr>
				</ui:repeat>

			</table>

		</form>
		<!-- <form jsf:id="formList" method="post"> -->

		<table class="table">
			<tr>
				<th>Código do Veículo</th>
				<th>Marca do Veículo</th>
				<th>Modelo do Veículo</th>
				<th>Ano de Fabricação</th>
			</tr>

			<ui:repeat var="carro" value="#{MBeanCarro.carros}">
				<tr>
					<td class="text-white"><h:outputText value="#{carro.id}"></h:outputText></td>
					<td class="text-white"><h:outputText value="#{carro.marca}"></h:outputText></td>
					<td class="text-white"><h:outputText value="#{carro.modelo}"></h:outputText></td>
					<td class="text-white"><h:outputText value="#{carro.ano}"></h:outputText></td>
					<td><input type="submit" jsf:id="btnAlterar"
						jsf:action="#{mBeanCar.alterar(carro)}" value="Alterar"
						class="btn btn-primary"> </input></td>
					<td><input type="submit" jsf:id="btnExcluir"
						jsf:action="#{mBeanCar.excluir(carro)}" value="Excluir"
						class="btn btn-primary"> </input></td>
				</tr>
			</ui:repeat>

		</table>



	</ui:define>

	<ui:define name="script">

		<script>
			$('#anoFab').mask('0000');
			$('#moeda').mask('999,99');
		</script>

	</ui:define>

</ui:composition>

</html>